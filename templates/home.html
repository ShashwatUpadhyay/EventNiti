{% extends "index.html" %}

{% block title %}
{{ company_name }} | Orchestrate Unforgettable Event Experiences
{% endblock title %}

{% block content %}
{% load static %}

<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/@heroicons/react@1.0.6/dist/heroicons.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');

  body {
    font-family: 'Poppins', sans-serif;
    background-color: #F8F9FA; /* Light base background */
    color: #343a40; /* Darker default text */
  }

  /* -- Hero Section Specific -- */
  #hero-section {
    position: relative;
    height: 100vh;
    {% comment %} background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%); /* Deep Blue to Teal gradient */ {% endcomment %}
    overflow: hidden;
  }
  #hero-particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    /* Using particles.js or similar would go here - placeholder for now */
     background-image: radial-gradient(circle at 10% 15%, rgba(255,255,255,0.08) 0%, transparent 30%),
                      radial-gradient(circle at 90% 85%, rgba(255,255,255,0.06) 0%, transparent 40%);
     opacity: 0.7;
  }
  .hero-content {
    position: relative;
    z-index: 2;
  }
  .hero-headline span {
    display: inline-block; /* Needed for animation */
  }

  /* -- General Section Styling -- */
  .section-padding {
    padding-top: 6rem;
    padding-bottom: 6rem;
  }
  .section-title {
    font-size: 2.5rem; /* 40px */
    font-weight: 700;
    margin-bottom: 1rem;
    color: #1a237e; /* Dark Indigo */
  }
  .section-subtitle {
    font-size: 1.125rem; /* 18px */
    color: #5a67d8; /* Indigo */
    margin-bottom: 4rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  /* -- Feature Card Styling -- */
  .feature-card {
    background-color: white;
    border-radius: 1rem; /* 16px */
    padding: 2rem; /* 32px */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid #e2e8f0; /* Subtle border */
  }
  .feature-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 25px -5px rgba(99, 102, 241, 0.15), 0 10px 10px -5px rgba(99, 102, 241, 0.1);
  }
  .feature-icon-wrapper {
    width: 4rem; /* 64px */
    height: 4rem; /* 64px */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem; /* 24px */
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(167, 139, 250, 0.1) 100%);
  }
  .feature-icon {
    width: 2rem; /* 32px */
    height: 2rem; /* 32px */
    color: #5a67d8; /* Indigo */
  }

  /* -- Event Card Styling -- */
  .event-card {
    background-color: white;
    border-radius: 0.75rem; /* 12px */
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid #e2e8f0;
  }
  .event-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.08);
  }
  .event-card-img-wrapper {
    position: relative;
    height: 14rem; /* 224px */
    overflow: hidden;
  }
  .event-card-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }
  .event-card:hover .event-card-img {
    transform: scale(1.05);
  }
  .event-status-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem; /* 12px */
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    z-index: 1;
  }
  .badge-concluded { background-color: #6b7280; color: white; }
  .badge-open { background-color: #10b981; color: white; }
  .badge-closed { background-color: #ef4444; color: white; }

  /* -- Testimonial Styling -- */
  .testimonial-card {
    background-color: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    position: relative;
    border: 1px solid #e2e8f0;
    margin-bottom: 1rem; /* Space for potential quote icon */
  }
  .testimonial-card::before { /* Quote icon */
      content: '\201C'; /* Unicode for left double quote */
      position: absolute;
      top: -0.5rem;
      left: 1rem;
      font-size: 4rem;
      color: rgba(99, 102, 241, 0.15); /* Light Indigo */
      font-family: serif;
      z-index: 0;
  }
  .testimonial-content {
      position: relative; /* Keep content above quote */
      z-index: 1;
  }

  /* -- Memories Gallery Styling -- */
  .memory-item {
    position: relative;
    overflow: hidden;
    border-radius: 0.75rem;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.07);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
   .memory-item:hover {
    transform: scale(1.03);
    box-shadow: 0 10px 15px rgba(0,0,0,0.1);
  }
  .memory-img {
    width: 100%;
    height: 16rem; /* 256px */
    object-fit: cover;
    display: block;
  }
  .memory-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.4s ease;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 1.5rem; /* 24px */
  }
  .memory-item:hover .memory-overlay {
    opacity: 1;
  }

  /* -- Swiper Customization -- */
  .swiper-button-prev, .swiper-button-next {
    background-color: rgba(99, 102, 241, 0.8); /* Indigo */
    color: white;
    width: 3rem; /* 48px */
    height: 3rem; /* 48px */
    border-radius: 50%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: background-color 0.3s ease;
  }
  .swiper-button-prev:hover, .swiper-button-next:hover {
    background-color: #4338ca; /* Darker Indigo */
  }
  .swiper-button-prev::after, .swiper-button-next::after {
    font-size: 1rem; /* 16px */
    font-weight: 700;
  }
  .swiper-pagination-bullet-active {
      background-color: #5a67d8 !important; /* Indigo */
  }

  /* -- Button Styles -- */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.875rem 2rem; /* 14px 32px */
    border-radius: 0.5rem; /* 8px */
    font-weight: 600;
    font-size: 1rem; /* 16px */
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
    border: 2px solid transparent;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }
  .btn-primary {
    background-color: #5a67d8; /* Indigo */
    color: white;
  }
  .btn-primary:hover {
    background-color: #4338ca; /* Darker Indigo */
    box-shadow: 0 7px 14px rgba(67, 56, 202, 0.2);
    transform: translateY(-2px);
  }
  .btn-secondary {
    background-color: transparent;
    color: white; /* Assuming white background like hero or CTA */
    border-color: white;
  }
  .btn-secondary:hover {
    background-color: white;
    color: #5a67d8; /* Indigo */
    box-shadow: 0 7px 14px rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
  }
  .btn-outline {
     background-color: white;
     color: #5a67d8;
     border-color: #c7d2fe; /* Light Indigo border */
  }
   .btn-outline:hover {
     background-color: #eef2ff; /* Lighter Indigo bg */
     border-color: #a5b4fc;
     box-shadow: 0 7px 14px rgba(90, 103, 216, 0.1);
     transform: translateY(-2px);
  }

  /* -- Form Styling -- */
  .form-input, .form-textarea {
      width: 100%;
      padding: 0.75rem 1rem; /* 12px 16px */
      border: 1px solid #d1d5db; /* Gray 300 */
      border-radius: 0.5rem; /* 8px */
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-size: 1rem;
  }
  .form-input:focus, .form-textarea:focus {
      outline: none;
      border-color: #5a67d8; /* Indigo */
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2); /* Indigo focus ring */
  }

</style>

{% if rand_mem %}
<section id="hero-section" class="flex items-center text-white  bg-center bg-no-repeat bg-cover bg-[url('{{rand_mem}}')] bg-blend-multiply h-screen bg-gray-700">
{% else %}
<section id="hero-section" class="flex items-center text-white  bg-center bg-no-repeat bg-cover  bg-blend-multiply h-screen bg-gray-700">
{% endif %}
  
  <div id="hero-particles"></div> <div class="container px-6 mx-auto hero-content text-center ">
    <h1 class="mb-4 text-4xl font-extrabold tracking-tight md:text-5xl lg:text-6xl hero-headline" data-aos="fade-down">
      <span>Orchestrate</span> <span class="text-teal-300">Unforgettable</span>
      <span class="block mt-2">Event Experiences</span>
    </h1>
    <p class="max-w-3xl mx-auto mb-10 text-lg md:text-xl text-indigo-100" data-aos="fade-up" data-aos-delay="200">
      {{ company_name }}: The all-in-one platform designed for seamless event management, ticketing, certification, and engagement. Elevate your events from start to finish.
    </p>
    <div class="flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4" data-aos="fade-up" data-aos-delay="400">
      <a href="{% url 'events' %}" class="btn btn-primary">
        Explore Events
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </a>
      <a href="#features" class="btn btn-secondary">
        Discover Features
      </a>
    </div>
  </div>
   <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce z-10">
    <a href='#upcomming_events'>
     <svg class="w-6 h-6 text-white opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
     </svg>
    </a>
   </div>
</section>

<section id="features" class="section-padding bg-gray-50">
  <div class="container px-6 mx-auto">
    <div class="mb-16 text-center">
      <h2 class="section-title">The Ultimate Event Toolkit</h2>
      <p class="section-subtitle">Everything you need to plan, execute, and analyze successful events, all in one place.</p>
    </div>

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-4">
      <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
          </svg>
        </div>
        <h3 class="mb-3 text-xl font-semibold text-gray-800">Intelligent Ticketing</h3>
        <p class="text-gray-600">Flexible ticket types, secure payments, QR code check-in, and detailed sales reports.</p>
      </div>

      <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
        <div class="feature-icon-wrapper">
          <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
          </svg>
        </div>
        <h3 class="mb-3 text-xl font-semibold text-gray-800">Verified Certificates</h3>
        <p class="text-gray-600">Automated generation of digital certificates with optional blockchain verification for ultimate credibility.</p>
      </div>

      <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
        <div class="feature-icon-wrapper">
           <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
           </svg>
        </div>
        <h3 class="mb-3 text-xl font-semibold text-gray-800">Insightful Analytics</h3>
        <p class="text-gray-600">Real-time dashboards tracking attendance, engagement metrics, revenue, and attendee demographics.</p>
      </div>

      <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
        <div class="feature-icon-wrapper">
           <svg class="feature-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
           </svg>
        </div>
        <h3 class="mb-3 text-xl font-semibold text-gray-800">Powerful Host Controls</h3>
        <p class="text-gray-600">Effortless event creation, attendee management, communication tools, and post-event follow-up features.</p>
      </div>
    </div>
  </div>
</section>

<section id='upcomming_events' class="section-padding bg-white overflow-hidden">
  <div class="container px-6 mx-auto">
    <div class="flex flex-col items-center justify-between mb-12 md:flex-row">
      <div class="mb-6 text-center md:text-left md:mb-0" data-aos="fade-right">
        <h2 class="section-title">Upcoming Events</h2>
        <p class="mt-2 text-lg text-gray-600">Explore exciting opportunities hosted on  {{ company_name }}</p>
      </div>
      <div data-aos="fade-left">
        <a href="{% url 'events' %}" class="btn btn-outline">
          View All Events
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>

    <div  class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {% if event %}
        {% for events_item in event|slice:":3" %} {# Show only first 3 upcoming events #}
          <div class="event-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
             <div class="event-card-img-wrapper">
                 <img src="{{ events_item.get_image_url }}" alt="{{ events_item.title }} Poster" class="event-card-img">
                <div class="event-status-badge {% if events_item.event_over %}badge-concluded{% elif events_item.registration_open %}badge-open{% else %}badge-closed{% endif %}">
                 {% if events_item.event_over %} Concluded {% elif events_item.registration_open %} Open {% else %} Closed {% endif %}
               </div>
             </div>

             <div class="p-5">
                 <div class="flex items-center justify-between mb-3 text-sm text-gray-500">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800">
                       {{ events_item.category|default:"General" }}
                    </span>
                    <span><svg class="inline w-4 h-4 mr-1 -mt-px" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg> {{ events_item.start_date|time:"h:i A"|default:"TBA" }}</span>
                 </div>

               <h3 class="mb-2 text-lg font-semibold text-gray-900 truncate">{{ events_item.title }}</h3>

               <div class="flex items-center mb-4 text-sm text-gray-600">
                  <svg class="flex-shrink-0 w-4 h-4 mr-2 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                 <span>{{ events_item.start_date|date:"M d, Y"|default:"Date TBA" }}</span>
                 <span class="mx-2">·</span>
                 <svg class="flex-shrink-0 w-4 h-4 mr-1.5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                 <span>{{ events_item.location|default:"Online" }}</span>
               </div>

               <div class="pt-3 mt-3 border-t border-gray-100">
                 {% comment %} Determine correct URL based on user type {% endcomment %}
                 {% if user.is_authenticated and not user.is_student %}
                    {% url 'teacherEvent' events_item.slug as event_url %}
                 {% else %}
                    {% url 'event' events_item.slug as event_url %}
                 {% endif %}
                 <a href="{{ event_url }}" class="inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 group">
                   View Details
                   <svg class="w-4 h-4 ml-1 transition-transform duration-200 ease-in-out group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                   </svg>
                 </a>
               </div>
             </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="col-span-full" data-aos="fade-up">
          <div class="flex flex-col items-center justify-center p-10 text-center bg-indigo-50 border border-indigo-100 rounded-xl">
             <svg class="w-12 h-12 mb-4 text-indigo-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
            <h3 class="mb-2 text-xl font-semibold text-indigo-800">No Upcoming Events Found</h3>
            <p class="text-indigo-600">Keep an eye on this space, or consider hosting your own event with  {{ company_name }}!</p>
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</section>

<section class="section-padding bg-gray-50">
  <div class="container px-6 mx-auto">
    <div class="mb-16 text-center" data-aos="fade-up">
      <h2 class="section-title">Explore Past Events</h2>
      <p class="section-subtitle">See the impact and success stories from previous events managed through our platform.</p>
    </div>

    <div class="relative" data-aos="fade-up">
       <div class="swiper past-events-swiper">
         <div class="swiper-wrapper pb-8"> {# Add padding-bottom for pagination #}
           {% if events %} {# Use the full events list here #}
             {% for past_event in events %} {# Assuming 'events' contains past events too, or fetch separately #}
                 {% if past_event.event_over %} {# Filter for past events #}
                   <div class="swiper-slide h-auto"> {# Ensure slide height adapts #}
                     <div class="block h-full">
                       <div class="event-card h-full flex flex-col"> {# Use flex column #}
                          <div class="event-card-img-wrapper flex-shrink-0">
                                <img src="{{ past_event.get_image_url }}" alt="{{ past_event.title }} Poster" class="event-card-img">
                             <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                             <div class="absolute bottom-0 left-0 p-4 text-white">
                                <h4 class="text-lg font-semibold">{{ past_event.title }}</h4>
                                <p class="text-sm opacity-80">{{ past_event.start_date|date:"M d, Y" }}</p>
                             </div>
                          </div>
                          <div class="p-5 flex-grow flex flex-col justify-between"> {# Grow to fill space #}
                              <div>
                                <div class="past-event-card-content">
                                  <h3 class="text-lg font-bold text-gray-800 mb-1 truncate">{{ past_event.title }}</h3>
                                  <div class="flex items-center text-gray-500 text-xs mb-3">
                                      <i class="far fa-calendar-alt mr-1"></i>
                                      {{ past_event.start_date|date:"M d, Y" }}
                                       <span class="mx-1.5">·</span>
                                       <i class="fas fa-map-marker-alt mr-1"></i>
                                       {{ past_event.location|default:"Venue" }}
                                  </div>

                                  <div class="mb-3">
                                      <div class="flex items-center">
                                          <div class="flex text-yellow-400 text-sm">
                                             {{ past_event.avg_rating|default:'' }}
                                              {% comment %} <i class="fas fa-star"></i>
                                              <i class="fas fa-star"></i>
                                              <i class="fas fa-star"></i>
                                              <i class="fas fa-star"></i>
                                              <i class="fas fa-star-half-alt"></i> {# Example rating #} {% endcomment %}
                                          </div>
                                          <span class="text-gray-500 text-xs ml-2">({{ past_event.review_count|default:0 }} reviews)</span> {# Replace with actual review count if available #}
                                      </div>
                                  </div>
                              </div>
                              </div>
                              <div class="mt-auto pt-3 border-t flex border-gray-100 justify-between"> {# Push link to bottom #}
                                {% comment %} {% url 'event_recacpe' past_event.slug as event_recacpe_url %}   {% endcomment %}
                                <a href='{% url "memories" %}?event={{ past_event.slug }}' class="text-sm font-medium text-indigo-600 hover:text-indigo-800 inline-flex items-center">
                                    View Recap <i class="fas fa-arrow-right ml-1 text-xs"></i>
                                 </a>
                                  <a href='{% url "event_reviews" past_event.slug %}?back={{ request.get_full_path }}' class="text-sm font-medium text-indigo-600 hover:text-indigo-800 inline-flex items-center">
                                    <i class="far fa-comment-dots mr-1"></i> Reviews
                                 </a>
                             </div>
                          </div>
                       </div>
                     </div>
                   </div>
                 {% endif %}
             {% endfor %}
           {% else %}
             <div class="swiper-slide"><p>No past events found.</p></div>
           {% endif %}
         </div>
         <div class="swiper-pagination"></div>
       </div>
       <div class="swiper-button-prev -left-4"></div>
       <div class="swiper-button-next -right-4"></div>
    </div>
  </div>
</section>

<section class="section-padding bg-white w-full overflow-hidden ">
  <div class="container px-6 mx-auto ">
    <div class="flex flex-col items-center justify-between mb-12 md:flex-row">
       <div class="mb-6 text-center md:text-left md:mb-0" data-aos="fade-right">
          <h2 class="section-title">Event Memories</h2>
          <p class="mt-2 text-lg text-gray-600">A glimpse into the vibrant moments captured at events hosted with us.</p>
       </div>
       <div data-aos="fade-left">
          <a href="{% url 'memories' %}" class="btn btn-outline">
             View Full Gallery
             <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" /></svg>
          </a>
       </div>
    </div>

    <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5">
       {% if mem %}
          {% for mem_item in mem|slice:":10" %} {# Show first 10 memories #}
             <a href="{% url 'memories' %}" class="memory-item block" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0 }}50">
                {% if mem_item.memory_img.latest.image.url %}
                   <img src="{{ mem_item.memory_img.latest.image.url }}" alt="{{ mem_item.memory_title }}" class="memory-img">
                {% else %}
                   <div class="flex items-center justify-center w-full h-64 bg-gray-200"><svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg></div>
                {% endif %}
                <div class="memory-overlay">
                   <h3 class="text-base font-semibold text-white truncate">{{ mem_item.memory_title }}</h3>
                   <p class="text-xs text-indigo-200 truncate">{{ mem_item.event.title }}</p>
                </div>
             </a>
          {% endfor %}
       {% else %}
          <p class="col-span-full text-center text-gray-500">No event memories uploaded yet.</p>
       {% endif %}
    </div>
  </div>
</section>

<section class="section-padding bg-gradient-to-br from-indigo-600 to-purple-700 text-white">
  <div class="container px-6 mx-auto">
    <div class="mb-16 text-center" data-aos="fade-up">
      <h2 class="text-4xl font-bold mb-4">Hear From Our Happy Hosts</h2>
      <p class="text-xl text-indigo-100 max-w-3xl mx-auto">Thousands trust  {{ company_name }} to power their most important events.</p>
    </div>

    <div class="swiper testimonials-swiper" data-aos="fade-up">
       <div class="swiper-wrapper pb-12">
         <div class="swiper-slide h-auto">
           <div class="testimonial-card h-full">
             <div class="testimonial-content">
               <p class="mb-6 text-gray-700 italic">" {{ company_name }} transformed our annual conference. The ticketing system was seamless, check-in was a breeze, and the analytics helped us prove ROI to our stakeholders."</p>
               <div class="flex items-center">
                  <img class="w-12 h-12 rounded-full mr-4 object-cover" src="https://randomuser.me/api/portraits/women/68.jpg" alt="Jane Doe">
                 <div>
                   <h4 class="font-semibold text-gray-900">Jane Doe</h4>
                   <p class="text-sm text-indigo-700 font-medium">Marketing Director, TechConf</p>
                 </div>
               </div>
             </div>
           </div>
         </div>
         <div class="swiper-slide h-auto">
           <div class="testimonial-card h-full">
              <div class="testimonial-content">
                 <p class="mb-6 text-gray-700 italic">"The automated certificate generation is a lifesaver! It saved our team countless hours and attendees loved receiving their verified digital credentials instantly."</p>
                 <div class="flex items-center">
                    <img class="w-12 h-12 rounded-full mr-4 object-cover" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Alex Smith">
                    <div>
                       <h4 class="font-semibold text-gray-900">Alex Smith</h4>
                       <p class="text-sm text-indigo-700 font-medium">CEO, EduSummit</p>
                    </div>
                 </div>
             </div>
           </div>
         </div>
         <div class="swiper-slide h-auto">
           <div class="testimonial-card h-full">
              <div class="testimonial-content">
                 <p class="mb-6 text-gray-700 italic">"As an NGO, efficiency is key.  {{ company_name }} provides everything we need in one intuitive platform, from registration to post-event reporting. Highly recommended!"</p>
                 <div class="flex items-center">
                    <img class="w-12 h-12 rounded-full mr-4 object-cover" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Maria Johnson">
                    <div>
                       <h4 class="font-semibold text-gray-900">Maria Johnson</h4>
                       <p class="text-sm text-indigo-700 font-medium">Events Manager, Global Aid Org</p>
                    </div>
                 </div>
             </div>
           </div>
         </div>
           </div>
       <div class="swiper-pagination"></div>
    </div>
  </div>
</section>




{% comment %} <section class="py-20 bg-indigo-800">
  <div class="container px-6 mx-auto text-center" data-aos="fade-up">
    <h2 class="mb-6 text-3xl font-bold text-white md:text-4xl">Ready to Revolutionize Your Events?</h2>
    <p class="max-w-2xl mx-auto mb-10 text-lg text-indigo-100 md:text-xl">Join leading organizations creating seamless, engaging, and impactful experiences with  {{ company_name }}.</p>
    <div class="flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4">
      <a href="#" class="btn bg-white text-indigo-700 hover:bg-gray-100">
        Get Started Free
         <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
        </svg>
      </a>
      <a href="#contact" class="btn btn-secondary">
        Request a Demo
      </a>
    </div>
  </div>
</section> {% endcomment %}

<section id="contact" class="section-padding bg-gray-50">
  <div class="container px-6 mx-auto">
    <div class="mb-16 text-center" data-aos="fade-up">
      <h2 class="section-title">Get in touch</h2>
      <p class="section-subtitle">Reach out to learn how our platform has empowered past events and how we can support yours too.</p>
    </div>
    <div class="max-w-3xl p-8 mx-auto bg-white rounded-xl shadow-lg border border-gray-200" data-aos="fade-up">
      {% comment %} <div class="mb-10 text-center">
        <h2 class="section-title">Get in Touch</h2>
        <p class="mt-2 text-lg text-gray-600">Have questions or need a custom solution? We're here to help.</p>
      </div> {% endcomment %}

      <form action="#" method="POST" class="space-y-6">
        {% csrf_token %}
        <div class="grid gap-6 md:grid-cols-2">
          <div>
            <label for="contact-name" class="block mb-2 text-sm font-medium text-gray-700">Your Name</label>
            <input type="text" id="contact-name" name="name" class="form-input" placeholder="e.g., John Doe" required>
          </div>
          <div>
            <label for="contact-email" class="block mb-2 text-sm font-medium text-gray-700">Email Address</label>
            <input type="email" id="contact-email" name="email" class="form-input" placeholder="you@company.com" required>
          </div>
        </div>
        <div>
          <label for="contact-subject" class="block mb-2 text-sm font-medium text-gray-700">Subject</label>
          <input type="text" id="contact-subject" name="subject" class="form-input" placeholder="Inquiry about..." required>
        </div>
        <div>
          <label for="contact-message" class="block mb-2 text-sm font-medium text-gray-700">Message</label>
          <textarea id="contact-message" name="message" rows="5" class="form-textarea" placeholder="How can we assist you today?" required></textarea>
        </div>
        <div class="text-center pt-2">
          <button type="submit" class="btn btn-primary w-full sm:w-auto">
            Send Your Message
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" /></svg>
          </button>
        </div>
      </form>
    </div>
  </div>
</section>


<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize AOS (Animate on Scroll)
    AOS.init({
      duration: 800, // Animation duration
      once: true, // Whether animation should happen only once - while scrolling down
      offset: 100, // Offset (in px) from the original trigger point
    });

    // Initialize Past Events Swiper
    const pastEventsSwiper = new Swiper('.past-events-swiper', {
        slidesPerView: 1.2,
        spaceBetween: 20,
        centeredSlides: false, // Don't center slides initially
        loop: false, // Avoid loop if you don't have many items
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        breakpoints: {
          // when window width is >= 640px
          640: {
            slidesPerView: 2.5,
            spaceBetween: 25,
          },
          // when window width is >= 1024px
          1024: {
            slidesPerView: 3.5,
            spaceBetween: 30,
          }
        }
    });

    // Initialize Testimonials Swiper
    const testimonialsSwiper = new Swiper('.testimonials-swiper', {
        slidesPerView: 1,
        spaceBetween: 30,
        loop: true,
        autoplay: {
          delay: 5000, // Autoplay every 5 seconds
          disableOnInteraction: false,
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
         breakpoints: {
          768: {
            slidesPerView: 2,
            spaceBetween: 30,
          },
          1024: {
            slidesPerView: 3,
            spaceBetween: 30,
          }
        }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start' // Scrolls so the element's top aligns with the viewport's top
          });
        }
      });
    });

    // Django Messages with SweetAlert2
    {% if messages %}
      {% for message in messages %}
        Swal.fire({
          toast: true, // Make it a toast notification
          position: 'top-end',
          icon: '{% if message.tags == 'error' %}error{% elif message.tags == 'success' %}success{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}',
          title: "{{ message|escapejs }}", // Escape JS characters in message
          showConfirmButton: false,
          timer: 3500, // Show for 3.5 seconds
          timerProgressBar: true,
          didOpen: (toast) => {
            toast.addEventListener('mouseenter', Swal.stopTimer)
            toast.addEventListener('mouseleave', Swal.resumeTimer)
          }
        });
      {% endfor %}
    {% endif %}

  });
</script>

{% endblock content %}