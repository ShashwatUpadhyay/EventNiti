{% extends "index.html" %}

{% block title %}
My Tickets
{% endblock title %}

{% block content %}
<div class="bg-gradient-to-r from-blue-50 to-white py-16 px-8 sm:px-12">
    <h1 class="text-4xl font-semibold text-center text-blue-700 mb-12">
        My Tickets
    </h1>

    <!-- Tickets Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
        {% if ticket %}
            {% for tickets in ticket %}
            <a href="{% url 'eventTicket' tickets.uid %}" 
               class="relative block bg-white border border-gray-200 shadow-lg rounded-xl overflow-hidden transform transition-all duration-300 hover:shadow-2xl hover:scale-105 hover:bg-blue-50">
               
                <!-- Ticket Image Placeholder -->
                <div class="relative">
                    <img src="{{ tickets.event.poster.url }}" alt="{{ tickets.event.title }}" class="object-cover w-full h-40 rounded-t-xl">
                    <div class="absolute top-0 left-0 p-4 bg-gradient-to-r from-blue-700 to-blue-500 text-white text-sm font-medium rounded-br-xl">
                        <span>Ticket</span>
                    </div>
                </div>

                <div class="p-6">
                    <h2 class="text-xl font-semibold text-blue-700 mb-3 ">
                        {{ tickets.event.title }}
                    </h2>
                    <p class="text-gray-600 mb-3">
                        <strong>Attendee:</strong> <span class="font-medium text-gray-900">{{ tickets.user.get_full_name }}</span>
                    </p>
                    <p class="text-gray-500 mb-4">
                        <strong>Event Date:</strong> <span class="font-medium text-gray-900">{{ tickets.event.start_date|date:"F d, Y" }}</span>
                    </p>

                    <!-- Ticket Button -->
                    <div class="text-right mt-4">
                        <span class="inline-block bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg text-sm transform transition-all duration-200 hover:bg-blue-700 cursor-pointer">
                            View Ticket
                        </span>
                    </div>
                </div>
            </a>
            {% endfor %}
        {% else %}
        <!-- No tickets available -->
        <div class="col-span-full">
            <div class="flex flex-col items-center justify-center bg-yellow-100 border border-yellow-300 text-yellow-800 font-semibold rounded-lg py-8 px-10 mt-12 shadow-lg">
                <p>No tickets available at the moment.</p>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock content %}
